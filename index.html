<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Market Shield ‚Äì Fair informiert</title>

  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="/marketshield/icon.png" type="image/png">


  <!-- Open Graph -->
  <meta property="og:title" content="Market Shield ‚Äì Fair informiert">
  <meta property="og:description" content="Transparente Infos zu Inhaltsstoffen, Risiken und Verbraucherschutz.">
  <meta property="og:image" content="https://ligone-token.github.io/marketshield/preview.jpg">
  <meta property="og:url" content="https://ligone-token.github.io/marketshield/">
  <meta property="og:type" content="website">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://ligone-token.github.io/marketshield/preview.jpg">
</head>

<body>

  <!-- HEADER -->
  <header class="ms-header">
    <h1>Market Shield</h1>
    <p class="subtitle">Fair informiert.</p>
  </header>

  <!-- ZUR STARTSEITE -->
  <div id="backHome" class="back-home" style="display:none;">
    ‚Üê Zur Startseite
  </div>

  <!-- SUCHE -->
  <div class="search-container">
    <input
      id="searchInput"
      type="text"
      placeholder="Produkt, Stoff oder Kategorie eingeben ‚Ä¶"
      autocomplete="off">
  </div>

  <!-- ERGEBNISSE -->
  <main id="results">
    <div id="shareBox"></div>

    <div id="similarEntries"></div>

    
      <!-- FAIL-SAFE / STARTTEXT -->
    <section id="static-entries" class="static-entries">
      <article class="entry">
        <h2>Warum MarketShield?</h2>
        <p>
          MarketShield sammelt und ordnet verbraucherrelevante Hinweise
          zu Produkten, Inhaltsstoffen und Risiken ‚Äì unabh√§ngig, sachlich
          und nachvollziehbar.
        </p>
      </article>

      <article class="entry">
        <h2>Eintr√§ge werden geladen</h2>
        <p>
          Sollte die interaktive Ansicht nicht verf√ºgbar sein,
          bleiben diese Informationen sichtbar.
        </p>
      </article>
    </section>
  </main>

 <!-- KATEGORIEN (MUSS VOR results stehen!) -->
  <div class="category-grid"></div>

  
  <!-- INFO -->
  <div class="sub-info">
    √úber <strong>100.000 Eintr√§ge</strong> ‚Äì fair informiert.
  </div>

  <!-- LIGONE LINKS -->
  <div class="ligone-links">
    <a href="https://ligone.ch" target="_blank" rel="noopener">Offizielle Seite</a> |
    <a href="https://ligone-token.github.io/ligone-web/" target="_blank" rel="noopener">Token App</a>
  </div>

  <!-- FOOTER -->
<footer>
  <div class="footer-main">
    MarketShield ¬© 2025 ‚Äì Ein Projekt f√ºr faire und klare Verbraucherinformationen.
  </div>

  <div class="footer-links">
    <a href="about.html">√úber MarketShield</a> ¬∑
    <a href="stiftung.html">√úber die LIGONE Stiftung</a> ¬∑
    <a href="impressum.html">Impressum</a> ¬∑
    <a href="datenschutz.html">Datenschutz</a>
  </div>

  <!-- ================= SUPPORT BOX ================= -->
  <section class="support-box">
    <h3>üíö MarketShield unterst√ºtzen</h3>

    <p class="support-text">
      MarketShield ist ein unabh√§ngiges Aufkl√§rungsprojekt.
      Es gibt keine Investoren, keine Industrie-Finanzierung
      und keine bezahlten Bewertungen.
    </p>

    <a
      class="support-paypal"
      href="https://paypal.me/wahrheitgewinnt"
      target="_blank"
      rel="noopener"
    >
      √úber PayPal unterst√ºtzen
    </a>

    <div class="support-crypto">
      <strong>üîê Alternativ: Unterst√ºtzung per Kryptow√§hrung</strong>
      <p>F√ºr Nutzer, die bewusst dezentral unterst√ºtzen m√∂chten.</p>
      <code class="crypto-address">
ETH / Polygon (ERC20)<br>
<span>0x5883C4013B4051e7f47624dC81B7118dE8fbD0FF</span>
</code>


      <small>
        Die Adresse geh√∂rt ausschlie√ülich dem Projekt MarketShield.
      </small>
    </div>
  </section>

</footer>


  <!-- REPORT FAB -->
  <button id="reportFab" aria-label="Problem melden">‚ö†Ô∏è</button>

  <!-- REPORT MODAL -->
  <div id="reportModal" class="report-modal">
    <div class="report-box">
      <h3>Problem oder Hinweis melden</h3>

      <textarea
        id="reportText"
        placeholder="Was ist dir aufgefallen? (Fehler, falsche Info, Verbesserungsvorschlag)"
        rows="5"></textarea>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px;">
        <button id="closeReportModal">Abbrechen</button>
        <button id="sendReport">Senden</button>
      </div>
    </div>
  </div>

  <!-- APP -->
  <script src="app.js" defer></script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QBT1L9DKNW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-QBT1L9DKNW');
  </script>
<!-- =====================================================
 LIG1 KAUF-BOX ‚Äì FINAL / STABIL / NULL-LAIEN
===================================================== -->

<style>
/* ===== BASIS ===== */
.lig1-buy-box {
  position: fixed;
  right: 16px;
  bottom: 16px;
  width: 190px;                 /* SCHMAL, geschlossen */
  max-height: 80vh;
  background: #ffffff;
  border: 2px solid #2e7d32;
  border-radius: 14px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.18);
  font-family: system-ui, sans-serif;
  z-index: 9999;
  overflow: hidden;
  transition: width 0.25s ease;
}

/* ===== GE√ñFFNET ===== */
.lig1-buy-box.open {
  width: 320px;                 /* BREIT, offen */
}

/* ===== HEADER ===== */
.lig1-header {
  padding: 12px 14px;
  background: #2e7d32;
  color: #ffffff;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  user-select: none;
}

/* ===== INHALT ===== */
.lig1-content {
  display: none;
  padding: 14px;
  overflow-y: auto;
  max-height: calc(80vh - 44px);
}

.lig1-buy-box.open .lig1-content {
  display: block;
}

.lig1-content p {
  font-size: 14px;
  line-height: 1.4;
  margin: 6px 0;
}

/* ===== STEPS ===== */
.lig1-step {
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px solid #e0e0e0;
}

/* ===== BUTTON ===== */
.lig1-button {
  display: inline-block;
  margin: 14px auto 0;
  padding: 10px 18px;
  background: #2e7d32;
  color: #ffffff;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 600;
  text-decoration: none;
  white-space: nowrap;
}

.lig1-button:hover {
  background: #256428;
}

/* ===== SMALL TEXT ===== */
.lig1-small {
  font-size: 12px;
  color: #555;
  margin-top: 8px;
}

/* ===== MOBILE ===== */
@media (max-width: 768px) {

  /* üì± IMMER sichtbar platzieren */
  .lig1-buy-box {
  position: fixed !important;
  right: 12px !important;
  bottom: 12px !important;
  left: auto !important;

  width: 170px;
  max-height: 80vh;

  background: #ffffff;
  border: 2px solid #2e7d32;
  border-radius: 14px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.18);

  font-family: system-ui, sans-serif;
  z-index: 2147483647 !important; /* maximal */

  overflow: hidden;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;

  transform: none !important;
  transition: width 0.25s ease;
}


  /* üì± NUR offen = breit */
  .lig1-buy-box.open {
    width: auto;        /* volle Breite */
    margin-left: 0;
  }
}
/* üîí MOBILE FIX: verhindert Verschwinden von position:fixed */
@media (max-width: 768px) {
  html, body {
    transform: none !important;
    overflow-x: hidden;
  }
}

</style>

<div class="lig1-buy-box" id="lig1Box">

  <div class="lig1-header" onclick="toggleLig1Box()">
    üí∂ LIG1 ¬∑ 1 ‚Ç¨ testen ‚ñæ
  </div>

  <div class="lig1-content">

    <p id="buyExample">
  <strong>Beispiel:</strong><br>
  Die <strong>exakte Menge</strong> f√ºr <strong>1 ‚Ç¨</strong><br>
  wird <strong>live im Swap</strong> berechnet.
</p>



    <div class="lig1-step">
      <p><strong>1Ô∏è‚É£ App installieren</strong><br>
        Wallet-App:
        <a href="https://metamask.io" target="_blank" rel="noopener">MetaMask</a>
      </p>
      <p class="lig1-small">
        Neue Wallet erstellen ¬∑ W√∂rter sicher aufschreiben
      </p>
    </div>

    <div class="lig1-step">
      <p><strong>2Ô∏è‚É£ Wallet verbinden</strong><br>
        Auf <strong>‚ÄûConnect‚Äú</strong> klicken<br>
        und <strong>MetaMask</strong> ausw√§hlen.
      </p>
    </div>

    <div class="lig1-step">
      <p><strong>3Ô∏è‚É£ POL ausw√§hlen</strong><br>
        Oben <strong>POL (Polygon)</strong> w√§hlen<br>
        <em>(POL ist das Zahlungsmittel)</em>
      </p>
    </div>

    <div class="lig1-step">
      <p><strong>4Ô∏è‚É£ 1,00 ‚Ç¨ vorbereiten</strong><br>
        In MetaMask ‚Üí <strong>‚ÄûKaufen‚Äú</strong><br>
        <strong>POL</strong> w√§hlen ¬∑ <strong>1,00 ‚Ç¨</strong> eingeben
      </p>
    </div>

    <div class="lig1-step">
      <p><strong>5Ô∏è‚É£ Preis ansehen</strong><br>
        Du siehst <strong>vor dem Kauf</strong>,<br>
        wie viele <strong>LIG1</strong> du bekommst.
      </p>
    </div>

    <div class="lig1-step">
      <p><strong>6Ô∏è‚É£ Kaufen</strong><br>
        Nur wenn alles passt:<br>
        auf <strong>‚ÄûTauschen‚Äú</strong> klicken<br>
        und best√§tigen.
      </p>
    </div>

    <div style="text-align:center;">
      <a
        class="lig1-button"
        href="https://app.uniswap.org/#/swap?chain=polygon&outputCurrency=0x92B3677ae2EA7c19aa4fA56936d11be99BcaC37d"
        target="_blank"
        rel="noopener">
        LIG1 ab 1 ‚Ç¨ testen
      </a>
    </div>

    <p class="lig1-small" style="text-align:center;">
      Kein Abo ¬∑ kein Vertrag ¬∑ jederzeit abbrechen
    </p>

    <div class="lig1-step">
      <p><strong>LIG1 nicht sichtbar?</strong></p>
      <p class="lig1-small">
        MetaMask √∂ffnen ‚Üí nach unten scrollen ‚Üí<br>
        <strong>‚ÄûToken hinzuf√ºgen‚Äú</strong> ‚Üí Adresse einf√ºgen:
      </p>
      <p class="lig1-small" style="word-break:break-all;">
        <strong>LIG1-Adresse:</strong><br>
        0x92B3677ae2EA7c19aa4fA56936d11be99BcaC37d
      </p>
    </div>

  </div>
</div>

<script>
function toggleLig1Box() {
  document.getElementById("lig1Box").classList.toggle("open");
}
</script>

<script>
(async function () {
  try {
    const res = await fetch(
      "https://ligone-token.github.io/ligone-vorsorge/data/buy-price.json",
      { cache: "no-store" }
    );

    if (!res.ok) {
      throw new Error("buy-price.json nicht erreichbar");
    }

    const data = await res.json();

    const priceEur = Number(data.price_eur);
if (!priceEur || priceEur <= 0) {
  throw new Error("price_eur fehlt oder ung√ºltig");
}

// F√ºr 1 ‚Ç¨
const ligValue = 1 / priceEur;


    const ligFormatted = ligValue.toLocaleString("de-DE");

    const el = document.getElementById("buyExample");
    if (!el) return;

    el.innerHTML = `
  <strong>Beispiel:</strong><br>
  F√ºr <strong>1 ‚Ç¨</strong> bekommst du aktuell<br>
  <strong>‚âà ${ligFormatted} LIG1</strong><br>
  <span class="lig1-small">
    (auf Basis des aktuellen Uniswap-Pool-Preises,
    exakte Menge wird im Swap berechnet)
  </span>
`;

  } catch (err) {
    console.warn("‚ö†Ô∏è Buy-Box nicht aktualisiert:", err.message);
  }
})();
</script>

<!-- ===============================
     KOMMENTARE & R√úCKFRAGEN
=============================== -->
<section style="margin-top:40px;">

  <div class="card">
    <div class="card-title">üí¨ Kommentare & R√ºckfragen</div>
    <div class="card-subtitle">
      Transparent ¬∑ √∂ffentlich ¬∑ freiwillig
    </div>

    <p style="font-size:0.8rem; color:#9aa6c9; margin-bottom:14px;">
      Kommentare werden transparent √ºber GitHub gef√ºhrt.
      Kein Download, keine Installation.
      Zum Schreiben ist ein GitHub-Login erforderlich.
    </p>

    <script
      src="https://utteranc.es/client.js"
      repo="ligone-token/ligone-web"
      issue-term="pathname"
      label="comment"
      theme="github-dark"
      crossorigin="anonymous"
      async>
    </script>

  </div>

</section>

</body>
</html>
