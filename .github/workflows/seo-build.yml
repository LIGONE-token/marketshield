name: SEO Generator

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: 20

      - name: Generate SEO pages
        env:
          SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
          SUPABASE_SERVICE_KEY: ${{ secrets.SUPABASE_SERVICE_KEY }}
        run: |
          echo "SUPABASE_URL is set: ${SUPABASE_URL:+YES}"
          echo "SUPABASE_SERVICE_KEY is set: ${SUPABASE_SERVICE_KEY:+YES}"
          node scripts/generate-seo.js
